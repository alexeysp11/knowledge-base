# Интеграции с C#

## План

### Критерии сравнения

- **Функциональность**: Какие операции Git поддерживаются?
- **Уровень абстракции**: Насколько легко использовать инструмент?
- **Производительность**: Насколько быстро работают операции Git?
- **Документация**: Качество и полнота документации.
- **Сообщество**: Размер и активность сообщества.
- **Поддержка**: Наличие поддержки и обновлений.
- **Лицензия**: Условия использования инструмента.

### Критерии завершения исследования

- **Понимание базовых операций Git**. Вы должны быть в состоянии выполнить основные операции с Git (clone, fetch, commit, push) с помощью каждого инструмента.
- **Сравнение инструментов по ключевым критериям**. Вы должны иметь четкое понимание того, чем отличается каждый инструмент и какие у него есть плюсы и минусы.
- **Выбор подходящего инструмента**. Вы должны выбрать инструмент, который наиболее подходит для вашего проекта.

### Основные сложности

- **Разные уровни абстракции**. Некоторые инструменты предоставляют более высокий уровень абстракции, что может быть проще для понимания, но менее гибким.
- **Управление состоянием**. Необходимо следить за состоянием репозитория и избегать ошибок при работе с Git.
- **Обработка ошибок**. Необходимо правильно обрабатывать ошибки Git, чтобы избежать сбоев в работе приложения.
- **Безопасность**. При работе с Git на уровне репозитория необходимо учитывать безопасность, чтобы предотвратить несанкционированный доступ к данным.

### Шаги

- [ ] libgit2sharp
    - [x] Атомарные операции
    - [ ] Базовый сценарий
    - [ ] Проверка статуса ветки и анализ изменений
    - [ ] Решение merge конфликтов
- [ ] octokit.net
- [ ] GitVersion

## Исследование

### Преимущества и недостатки инструментов

![csharpintegration](../../img/git/csharpintegration.jpg)

### Основные ситуации использования

- **libgit2sharp**: идеален для сложных операций с Git на уровне репозитория, требующих высокой производительности.
- **octokit.net**: для работы с GitHub API, например, для создания pull requests, issues, и т.д.
- **GitVersion**: для автоматического создания версий проекта на основе Git-тегов.
- **GitSharp**: для простых операций с Git, но рекомендуется использовать libgit2sharp вместо GitSharp.

### Сценарии тестирования

#### Базовый сценарий (создание двух веток, забрать изменения из одной ветку в другую)

- Перейти в директорию, где должен храниться репозиторий;
- Сделать clone;
- Создать ветку `csharp-git-test-1` и переключиться на неё с помощью команды checkout;
- Создать в локальной ветке какой-нибудь файл, сохранить его, сделать commit и push в ветку `csharp-git-test-1`;
- Переключиться на ветку `main`, создать ветку `csharp-git-test-2`, переключиться на `csharp-git-test-2` и сделать pull из ветки `csharp-git-test-1`.
- Изменить файл, сохранить, сделать commit и push в ветку `csharp-git-test-2`;
- Переключиться на `csharp-git-test-1`, изменить файл, сделать commit и push.

#### Проверка статуса ветки и анализ изменений

- Перейти в директорию, где должен храниться репозиторий;
- Удалить репозиторий;
- Сделать clone;
- Создать ветку `csharp-git-test-1`, переключиться на неё и забрать изменения из origin, залогировать изменённые файлы, сделать push в origin;
- Переключиться на ветку `main`;
- Создать ветку `csharp-git-test-2`, переключиться на неё и забрать изменения из origin, залогировать изменённые файлы, сделать push в origin.

#### Решение merge конфликтов

- Перейти в директорию, где должен храниться репозиторий;
- Переключиться на ветку `main`;
- Создать ветку `csharp-git-test-qa`, переключиться на неё;
- Забрать изменения из `csharp-git-test-1`;
- Забрать изменения из `csharp-git-test-2`;
- Merge конфликт решить разными способами: 1) сохранить то, что приходит, 2) сохранить то, что было, 3) залогировать ошибку слияния.
