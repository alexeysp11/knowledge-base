# Авторизация в WCF

## Базовая Авторизация: Preemptive vs Non-Preemptive

- **Preemptive Authorization**:
    - **Цель**: Отправлять учетные данные (логин и пароль) в заголовке HTTP-запроса сразу при первом запросе, даже не получая от сервера ответа `401 Unauthorized`.
    - **Плюсы**:
        - Меньше сетевых задержек: сервер обрабатывает запрос сразу, не нужно дважды обращаться к серверу.
    - **Минусы**:
        - Уязвимость безопасности: учетные данные передаются без предварительного запроса и могут быть перехвачены.
        - Сложность в управлении: для каждого запроса нужно явно добавлять заголовок авторизации.
    - **Вывод**: Preemptive обычно используется в случаях, когда необходимо повысить производительность при очень большом количестве запросов, но это сопряжено с большими рисками безопасности. Но даже в этих случаях её стараются избегать.

- **Non-Preemptive Authorization**:
    - **Цель**: Отправлять учетные данные только после получения от сервера ответа `401 Unauthorized`.
    - **Плюсы**:
        - Безопасность: учетные данные не передаются, если сервер не требует авторизации.
        - Простота: как правило, браузеры/клиенты автоматически обрабатывают ответ `401` и повторно отправляют запрос с заголовком авторизации.
    - **Минусы**:
        - Лишний запрос: требует два обращения к серверу (сначала без, потом с учетными данными).
